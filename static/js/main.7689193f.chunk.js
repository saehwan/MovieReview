(this["webpackJsonpreact-movie-app"]=this["webpackJsonpreact-movie-app"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),s=c(59),r=c.n(s),i=(c(70),c(22)),o=c(13),j=c(0),l=c(1),b=c(12),u=(c(71),c(60)),d=c.n(u),O=(c(89),c(6)),m=function(e){var t=e.movie,c=e.selectMovie;return Object(O.jsx)(i.b,{to:"/movie/".concat(t.id),style:{textDecoration:"none",color:"white"},children:Object(O.jsx)("div",{onClick:function(){return c(t)},className:"movie",children:Object(O.jsxs)("div",{className:"cards",children:[Object(O.jsx)("img",{className:"cards__img",src:"https://image.tmdb.org/t/p/original".concat(t?t.poster_path:"")}),Object(O.jsxs)("div",{className:"cards__overlay",children:[Object(O.jsx)("div",{className:"card__title",children:t?t.original_title:""}),Object(O.jsxs)("div",{className:"card__runtime",children:[t?t.release_date:"",Object(O.jsxs)("span",{className:"card__rating",children:[t?t.vote_average:"",Object(O.jsx)("i",{className:"fas fa-star"})]})]}),Object(O.jsx)("div",{className:"card__description",children:t?t.overview.slice(0,118)+"...":""})]})]})})})},v=(c(91),c(61)),p=(c(102),function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/popular?api_key=2d30858c3b61b7bbbb750cb8e4f86e30&language=en-US").then((function(e){return e.json()})).then((function(e){return a(e.results)}))}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"poster",children:Object(O.jsx)(v.Carousel,{showThumbs:!1,autoPlay:!0,transitionTime:3,infiniteLoop:!0,showStatus:!1,children:c.map((function(e){return Object(O.jsxs)(i.b,{style:{textDecoration:"none",color:"white"},to:"/movie/".concat(e.id),children:[Object(O.jsx)("div",{className:"posterImage",children:Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(e&&e.backdrop_path)})}),Object(O.jsxs)("div",{className:"posterImage__overlay",children:[Object(O.jsx)("div",{className:"posterImage__title",children:e?e.original_title:""}),Object(O.jsxs)("div",{className:"posterImage__runtime",children:[e?e.release_date:"",Object(O.jsxs)("span",{className:"posterImage__rating",children:[e?e.vote_average:"",Object(O.jsx)("i",{className:"fas fa-star"})," "]})]}),Object(O.jsx)("div",{className:"posterImage__description",children:e?e.overview:""})]})]},e.id)}))})})})});var h=function(){var e="https://api.themoviedb.org/3/",t=e+"search/movie",c=e+"discover/movie",a=Object(n.useState)([]),s=Object(b.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),u=Object(b.a)(o,2),v=u[0],h=u[1],x=Object(n.useState)({title:"Loading Movies"}),f=Object(b.a)(x,2),g=(f[0],f[1]),_=Object(n.useState)(""),N=Object(b.a)(_,2);N[0],N[1],Object(n.useEffect)((function(){w()}),[]);var w=function(){var e=Object(l.a)(Object(j.a)().mark((function e(n){var a,s;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.preventDefault(),e.next=3,d.a.get("".concat(v?t:c),{params:{api_key:"2d30858c3b61b7bbbb750cb8e4f86e30",query:v}});case 3:a=e.sent,s=a.data,i(s.results),g(s.results[0]),h("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){g(e),window.scrollTo(0,0)};return Object(O.jsx)("div",{className:"Home",children:Object(O.jsxs)("main",{children:[Object(O.jsx)(p,{}),Object(O.jsxs)("form",{className:"form",onSubmit:w,children:[Object(O.jsx)("input",{className:"search",type:"text",id:"search",onInput:function(e){return h(e.target.value)}}),Object(O.jsx)("button",{className:"submit-search",type:"submit",children:Object(O.jsx)("i",{className:"fa fa-search"})})]}),Object(O.jsx)("div",{className:"center-max-size container",children:r.map((function(e){return Object(O.jsx)(m,{selectMovie:k,movie:e},e.id)}))})]})})},x=c(27),f=(c(103),c(62)),g=c(65),_=c(25),N=c(18),w=(c(120),Object(g.a)({apiKey:"AIzaSyDew-TKwfdIO3q1sZ4P-1BlVVelVktDTfo",authDomain:"movie-review-a4dd2.firebaseapp.com",projectId:"movie-review-a4dd2",storageBucket:"movie-review-a4dd2.appspot.com",messagingSenderId:"329380250954",appId:"1:329380250954:web:f96d0d6d8c41b830706db3",measurementId:"G-M31YBM5RD0"})),k=Object(_.c)(w),y=Object(N.f)(w),S=new _.a,C=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=Object(_.e)(k,(function(e){a(e||null)}));return console.log("~~~~~~~~~~~~~~~~Auth being hit!~~~~~~~~~~~~~~~~~~~~~"),e}),[]),c},I=function(){var e=C(),t=Object(n.useState)(),c=Object(b.a)(t,2),a=c[0],s=c[1],r=Object(o.p)().id,i=Object(n.useState)(""),u=Object(b.a)(i,2),d=u[0],m=u[1],v=Object(n.useState)([]),p=Object(b.a)(v,2),h=(p[0],p[1]),g=Object(n.useState)(!1),_=Object(b.a)(g,2),w=_[0],k=_[1],S=Object(N.a)(y,"users");Object(n.useEffect)(Object(l.a)(Object(j.a)().mark((function t(){var c,n;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return c=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var t;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.e)(S);case 2:t=e.sent,h(t.docs.map((function(e){return Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c(),t.next=5,Object(N.d)(Object(N.c)(y,"users/".concat(e.uid,"/favoriteMovies"),r));case 5:n=t.sent,console.log(n.data()),k(!!n.exists());case 8:case"end":return t.stop()}}),t)})))),Object(n.useEffect)((function(){I(),console.log(a),window.scrollTo(0,0)}),[e]),Object(n.useEffect)((function(){if(a){var e=a.videos.results.find((function(e){return e.name.includes("Official Trailer")||e.name.includes("Teaser")})).key;m(e||a.videos.results[0])}}),[a]);var I=function(){fetch("https://api.themoviedb.org/3/movie/".concat(r,"?api_key=2d30858c3b61b7bbbb750cb8e4f86e30&append_to_response=videos")).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)}))},D=function(){var t=Object(l.a)(Object(j.a)().mark((function t(){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.g)(Object(N.c)(y,"users/".concat(e.uid,"/favoriteMovies"),r),{original_title:a.original_title,id:a.id,poster_path:a.poster_path,release_date:a.release_date,vote_average:a.vote_average,overview:a.overview});case 2:k(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(l.a)(Object(j.a)().mark((function t(c){var n;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(N.c)(y,"users/".concat(e.uid,"/favoriteMovies"),c),t.next=3,Object(N.b)(n);case 3:k(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return""===d?Object(O.jsx)("div",{children:"sorry no movie information"}):Object(O.jsxs)("div",{className:"movie",children:[Object(O.jsx)("div",{className:"movie__intro",children:Object(O.jsx)("img",{className:"movie__backdrop",src:"https://image.tmdb.org/t/p/original".concat(a?a.backdrop_path:"")})}),Object(O.jsxs)("div",{className:"movie__detail",children:[Object(O.jsx)("div",{className:"movie__detailLeft",children:Object(O.jsx)("div",{className:"movie__posterBox",children:Object(O.jsx)("img",{className:"movie__poster",src:"https://image.tmdb.org/t/p/original".concat(a?a.poster_path:"")})})}),Object(O.jsxs)("div",{className:"movie__detailRight",children:[Object(O.jsxs)("div",{className:"movie__detailRightTop",children:[Object(O.jsx)("div",{className:"movie__name",children:a?a.original_title:""}),Object(O.jsx)("div",{className:"movie__tagline",children:a?a.tagline:""}),Object(O.jsxs)("div",{className:"movie__rating",children:[a?a.vote_average:""," ",Object(O.jsx)("i",{class:"fas fa-star"}),Object(O.jsx)("span",{className:"movie__voteCount",children:a?"("+a.vote_count+") votes":""})]}),Object(O.jsx)("div",{className:"movie__runtime",children:a?a.runtime+" mins":""}),Object(O.jsx)("div",{className:"movie__releaseDate",children:a?"Release date: "+a.release_date:""}),Object(O.jsx)("div",{children:Object(O.jsx)(f.a,{videoId:d})}),Object(O.jsx)("div",{className:"movie__genres",children:a&&a.genres?a.genres.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("span",{className:"movie__genre",id:e.id,children:e.name})})})):""})]}),Object(O.jsxs)("div",{className:"movie__detailRightBottom",children:[Object(O.jsx)("div",{className:"synopsisText",children:"Synopsis"}),Object(O.jsx)("div",{children:a?a.overview:""})]}),Object(O.jsx)("div",{children:w?Object(O.jsx)("button",{className:"Undo favorite",onClick:function(){return M(r)},children:"Delete movie"}):Object(O.jsx)("button",{className:"favorite",onClick:D,children:"Add to favorite list"})})]})]}),Object(O.jsxs)("div",{className:"movie__links",children:[Object(O.jsx)("div",{className:"movie__heading",children:"Useful Links"}),a&&a.homepage&&Object(O.jsx)("a",{href:a.homepage,target:"_blank",style:{textDecoration:"none"},children:Object(O.jsx)("p",{children:Object(O.jsxs)("span",{className:"movie__homeButton movie__Button",children:["Homepage ",Object(O.jsx)("i",{className:"newTab fas fa-external-link-alt"})]})})}),a&&a.imdb_id&&Object(O.jsx)("a",{href:"https://www.imdb.com/title/"+a.imdb_id,target:"_blank",style:{textDecoration:"none"},children:Object(O.jsx)("p",{children:Object(O.jsxs)("span",{className:"movie__imdbButton movie__Button",children:["IMDb",Object(O.jsx)("i",{className:"newTab fas fa-external-link-alt"})]})})})]}),Object(O.jsx)("div",{className:"movie__heading",children:"Production companies"}),Object(O.jsx)("div",{className:"movie__production",children:a&&a.production_companies&&a.production_companies.map((function(e){return Object(O.jsx)(O.Fragment,{children:e.logo_path&&Object(O.jsxs)("span",{className:"productionCompanyImage",children:[Object(O.jsx)("img",{className:"movie__productionComapany",src:"https://image.tmdb.org/t/p/original"+e.logo_path}),Object(O.jsx)("span",{children:e.name})]})})}))})]})},D=function(){var e=Object(o.n)(),t=C(),c=Object(n.useState)(""),a=Object(b.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),d=u[0],m=u[1],v=Object(n.useState)(""),p=Object(b.a)(v,2),h=p[0],x=p[1],f=Object(n.useState)(""),g=Object(b.a)(f,2),w=g[0],I=g[1];Object(n.useEffect)(Object(l.a)(Object(j.a)().mark((function t(){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.d)(k);case 2:t.sent&&e("/");case 4:case"end":return t.stop()}}),t)}))));var D=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var t,c,n,a,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s,c=d,e.next=5,Object(_.b)(k,t,c);case 5:return n=e.sent,a=n.user,i=Object(N.c)(y,"users",a.uid),e.next=10,Object(N.g)(i,{email:t,password:c});case 10:r(""),m(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var t,c,n;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=h,c=w,e.next=5,Object(_.f)(k,t,c);case 5:n=e.sent,n.user,x(""),I(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var t,c,n,a;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.g)(k,S);case 3:return t=e.sent,c=t.user,c.displayName,n=c.email,c.photoURL,a=Object(N.c)(y,"users",c.uid),e.next=11,Object(N.g)(a,{email:n,googleAuth:!0});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.h)(k);case 3:alert("logout"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"Login",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:" Login "}),Object(O.jsx)("input",{type:"email",placeholder:"Email",value:s,my:"2",onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("input",{type:"password",placeholder:"Password",my:"2",value:d,onChange:function(e){return m(e.target.value)}}),Object(O.jsx)("button",{onClick:D,children:"Sign Up"}),Object(O.jsx)("button",{my:"2",onClick:T,children:"Sign In Google"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Sign In"}),Object(O.jsx)("input",{type:"email",placeholder:"Email",value:h,my:"2",onChange:function(e){return x(e.target.value)}}),Object(O.jsx)("input",{type:"password",placeholder:"Password",my:"2",value:w,onChange:function(e){return I(e.target.value)}}),Object(O.jsx)("button",{onClick:M,children:"Sign In"}),Object(O.jsx)("button",{my:"2",onClick:T,children:"Sign In Google"}),Object(O.jsx)("button",{m:"2",onClick:L,children:"Logout"})]}),Object(O.jsx)("div",{children:t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Signed In as ".concat(t.email)}),Object(O.jsx)("button",{onClick:L,children:"Sign Out"})]})})]})};c(117);var M=function(){var e=Object(o.n)(),t=C(),c=Object(n.useState)(!1),a=Object(b.a)(c,2),s=a[0],r=a[1],u=Object(n.useState)([]),d=Object(b.a)(u,2),m=d[0],v=d[1],p=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Object(N.e)(Object(N.a)(y,"users/".concat(t.uid,"/favoriteMovies")));case 3:c=e.sent,v(c.docs.map((function(e){return Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p(),r(!1)}),[t,s]);var h=function(){var t=Object(l.a)(Object(j.a)().mark((function t(){return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.h)(k);case 3:alert("logout"),e("/movie/Login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error: ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(Object(j.a)().mark((function e(c){var n;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(N.c)(y,"users/".concat(t.uid,"/favoriteMovies"),c),e.next=3,Object(N.b)(n);case 3:return e.next=5,r(!0);case 5:console.log(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=m.map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(i.b,{to:"/movie/".concat(e.id),style:{textDecoration:"none",color:"white"},children:Object(O.jsx)("div",{onClick:function(){return window.scrollTo(0,0)},className:"movie",children:Object(O.jsxs)("div",{className:"cards",children:[Object(O.jsx)("img",{className:"cards__img",src:"https://image.tmdb.org/t/p/original".concat(e?e.poster_path:"")}),Object(O.jsxs)("div",{className:"cards__overlay",children:[Object(O.jsx)("div",{className:"card__title",children:e?e.original_title:""}),Object(O.jsxs)("div",{className:"card__runtime",children:[e?e.release_date:"",Object(O.jsxs)("span",{className:"card__rating",children:[e?e.vote_average:"",Object(O.jsx)("i",{className:"fas fa-star"})]})]}),Object(O.jsx)("div",{className:"card__description",children:e?e.overview.slice(0,118)+"...":""})]})]})})}),Object(O.jsx)("button",{onClick:function(){f(e.id)},children:"Delete Movie"})]})}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:t&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Signed In as ".concat(t.email)}),Object(O.jsx)("button",{onClick:h,children:"Sign Out"})]})}),Object(O.jsx)("div",{children:g})]})},T=(c(118),function(e){var t=e.currentUser;console.log(t);var c=Object(o.n)();return Object(O.jsxs)("header",{className:"headerContainer",children:[Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("span",{className:"brand",children:"Moovie The Doobie"})}),Object(O.jsx)("p",{children:t?"Welcome, ".concat(t.displayName):""}),t?Object(O.jsx)("button",{onClick:function(){c("movie/Profile")},children:"Profile"}):Object(O.jsx)("button",{onClick:function(){c("movie/Login")},children:"Login"})]})});var L=function(){var e=C();return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)(T,{currentUser:e}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{index:!0,element:Object(O.jsx)(h,{})}),Object(O.jsx)(o.a,{exact:!0,path:"movie/:id",element:Object(O.jsx)(I,{})}),Object(O.jsx)(o.a,{exact:!0,path:"movie/Profile",element:Object(O.jsx)(M,{})}),Object(O.jsx)(o.a,{exact:!0,path:"movie/Login",element:Object(O.jsx)(D,{})})]})]})})};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root"))},70:function(e,t,c){},71:function(e,t,c){},89:function(e,t,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.7689193f.chunk.js.map